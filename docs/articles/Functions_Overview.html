<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Functions Overview • ralger</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Functions Overview">
<meta property="og:description" content="ralger">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ralger</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Functions_Overview.html">Functions Overview</a>
    </li>
    <li>
      <a href="../articles/Introduction.html">Quick example</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/feddelegrand7/ralger/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Functions_Overview_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Functions Overview</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/feddelegrand7/ralger/blob/master/vignettes/Functions_Overview.Rmd"><code>vignettes/Functions_Overview.Rmd</code></a></small>
      <div class="hidden name"><code>Functions_Overview.Rmd</code></div>

    </div>

    
    
<p>The goal of <strong>ralger</strong> is to facilitate web scraping in R. For a quick video tutorial, I gave a talk at useR2020, which you can find <a href="https://www.youtube.com/watch?v=OHi6E8jegQg">here</a></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the <code>ralger</code> package from <a href="https://cran.r-project.org/">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"ralger"</span><span class="op">)</span></code></pre></div>
<p>or you can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"feddelegrand7/ralger"</span><span class="op">)</span></code></pre></div>
</div>
<div id="scrap" class="section level2">
<h2 class="hasAnchor">
<a href="#scrap" class="anchor"></a><code>scrap()</code>
</h2>
<p>This is an example which shows how to extract <a href="http://www.shanghairanking.com/ARWU2020.html">top ranked universities’ names</a> according to the ShanghaiRanking Consultancy:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/feddelegrand7/ralger">ralger</a></span><span class="op">)</span>

<span class="va">my_link</span> <span class="op">&lt;-</span> <span class="st">"http://www.shanghairanking.com/ARWU2020.html"</span>

<span class="va">my_node</span> <span class="op">&lt;-</span> <span class="st">"#UniversityRanking a"</span> <span class="co"># The class ID , we recommend SelectorGadget</span>

<span class="va">best_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scrap.html">scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="va">my_link</span>, node <span class="op">=</span> <span class="va">my_node</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">best_uni</span>, <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Harvard University"                         </span>
<span class="co">#&gt;  [2] "Stanford University"                        </span>
<span class="co">#&gt;  [3] "University of Cambridge"                    </span>
<span class="co">#&gt;  [4] "Massachusetts Institute of Technology (MIT)"</span>
<span class="co">#&gt;  [5] "University of California, Berkeley"         </span>
<span class="co">#&gt;  [6] "Princeton University"                       </span>
<span class="co">#&gt;  [7] "Columbia University"                        </span>
<span class="co">#&gt;  [8] "California Institute of Technology"         </span>
<span class="co">#&gt;  [9] "University of Oxford"                       </span>
<span class="co">#&gt; [10] "University of Chicago"</span></code></pre></div>
<p>If you want to scrap multiple list pages, just use <code><a href="../reference/scrap.html">scrap()</a></code> in conjunction with <code><a href="https://rdrr.io/r/base/paste.html">paste0()</a></code>. Suppose, we want to extract the names of the <a href="https://www.goldenglobes.com/winners-nominees/best-performance-actor-motion-picture-drama?page=0">Golden Globes Awards Nominees</a>, we could proceed as follow to scrape the first 3 pages (which starts from 0):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_link</span> <span class="op">&lt;-</span> <span class="st">"https://www.goldenglobes.com/winners-nominees/best-performance-actor-motion-picture-drama?page="</span>

<span class="va">my_node</span> <span class="op">&lt;-</span> <span class="st">".primary-nominee a"</span>

<span class="fu"><a href="../reference/scrap.html">scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">my_link</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>, node <span class="op">=</span> <span class="va">my_node</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Joaquin Phoenix"       "Christian Bale"        "Antonio Banderas"     </span>
<span class="co">#&gt;  [4] "Spain"                 "Adam Driver"           "Jonathan Pryce"       </span>
<span class="co">#&gt;  [7] "Rami Malek"            "John David Washington" "Bradley Cooper"       </span>
<span class="co">#&gt; [10] "Willem Dafoe"          "Lucas Hedges"          "Gary Oldman"          </span>
<span class="co">#&gt; [13] "Timothée Chalamet"     "Daniel Day-Lewis"      "Tom Hanks"            </span>
<span class="co">#&gt; [16] "Denzel Washington"     "Casey Affleck"         "Viggo Mortensen"      </span>
<span class="co">#&gt; [19] "Denzel Washington"     "Joel Edgerton"         "Andrew Garfield"      </span>
<span class="co">#&gt; [22] "Leonardo DiCaprio"     "Will Smith"            "Michael Fassbender"   </span>
<span class="co">#&gt; [25] "Eddie Redmayne"        "Bryan Cranston"        "Eddie Redmayne"       </span>
<span class="co">#&gt; [28] "Benedict Cumberbatch"  "David Oyelowo"         "Steve Carell"         </span>
<span class="co">#&gt; [31] "Jake Gyllenhaal"       "Matthew McConaughey"   "Chiwetel Ejiofor"     </span>
<span class="co">#&gt; [34] "Tom Hanks"             "Idris Elba"            "Robert Redford"       </span>
<span class="co">#&gt; [37] "Daniel Day-Lewis"      "Richard Gere"          "Joaquin Phoenix"      </span>
<span class="co">#&gt; [40] "Denzel Washington"     "John Hawkes"           "George Clooney"       </span>
<span class="co">#&gt; [43] "Leonardo DiCaprio"     "Michael Fassbender"    "Ryan Gosling"         </span>
<span class="co">#&gt; [46] "Brad Pitt"             "Colin Firth"           "Jesse Eisenberg"      </span>
<span class="co">#&gt; [49] "James Franco"          "Ryan Gosling"          "Mark Wahlberg"        </span>
<span class="co">#&gt; [52] "Jeff Bridges"          "George Clooney"        "Colin Firth"          </span>
<span class="co">#&gt; [55] "Morgan Freeman"        "Tobey Maguire"         "Mickey Rourke"        </span>
<span class="co">#&gt; [58] "Leonardo DiCaprio"     "Frank Langella"        "Sean Penn"            </span>
<span class="co">#&gt; [61] "Brad Pitt"</span></code></pre></div>
<p>Thanks to the <a href="https://github.com/ropensci/robotstxt">robotstxt</a>, you can set <code>askRobot = T</code> to ask the <code>robots.txt</code> file if it’s permitted to scrape a specific web page.</p>
</div>
<div id="table_scrap" class="section level2">
<h2 class="hasAnchor">
<a href="#table_scrap" class="anchor"></a><code>table_scrap()</code>
</h2>
<p>If you want to extract an <strong>HTML Table</strong>, you can use the <code><a href="../reference/table_scrap.html">table_scrap()</a></code> function. Take a look at this <a href="https://www.boxofficemojo.com/chart/top_lifetime_gross/?area=XWW">webpage</a> which lists the highest gross revenues in the cinema industry. You can extract the HTML table as follows:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/table_scrap.html">table_scrap</a></span><span class="op">(</span>link <span class="op">=</span><span class="st">"https://www.boxofficemojo.com/chart/top_lifetime_gross/?area=XWW"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>
<span class="co">#&gt;   Rank                                      Title Lifetime Gross Year</span>
<span class="co">#&gt; 1    1                          Avengers: Endgame $2,797,800,564 2019</span>
<span class="co">#&gt; 2    2                                     Avatar $2,790,439,092 2009</span>
<span class="co">#&gt; 3    3                                    Titanic $2,471,751,922 1997</span>
<span class="co">#&gt; 4    4 Star Wars: Episode VII - The Force Awakens $2,068,454,133 2015</span>
<span class="co">#&gt; 5    5                     Avengers: Infinity War $2,048,359,754 2018</span>
<span class="co">#&gt; 6    6                             Jurassic World $1,670,401,444 2015</span></code></pre></div>
<p><strong>When you deal with a web page that contains many HTML table you can use the <code>choose</code> argument to target a specific table</strong></p>
</div>
<div id="tidy_scrap" class="section level2">
<h2 class="hasAnchor">
<a href="#tidy_scrap" class="anchor"></a><code>tidy_scrap()</code>
</h2>
<p>Sometimes you’ll find some useful information on the internet that you want to extract in a tabular manner however these information are not provided in an HTML format. In this context, you can use the <code><a href="../reference/tidy_scrap.html">tidy_scrap()</a></code> function which returns a tidy data frame according to the arguments that you introduce. The function takes four arguments:</p>
<ul>
<li>
<strong>link</strong> : the link of the website you’re interested for;</li>
<li>
<strong>nodes</strong>: a vector of CSS elements that you want to extract. These elements will form the columns of your data frame;</li>
<li>
<strong>colnames</strong>: this argument represents the vector of names you want to assign to your columns. Note that you should respect the same order as within the <strong>nodes</strong> vector;</li>
<li>
<strong>clean</strong>: if true the function will clean the tibble’s columns;</li>
<li>
<strong>askRobot</strong>: ask the robots.txt file if it’s permitted to scrape the web page.</li>
</ul>
<div id="example" class="section level3">
<h3 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h3>
<p>We’ll work on the famous <a href="https://www.imdb.com/">IMDb website</a>. Let’s say we need a data frame composed of:</p>
<ul>
<li>The title of the 50 best ranked movies of all time</li>
<li>Their release year</li>
<li>Their rating</li>
</ul>
<p>We will need to use the <code><a href="../reference/tidy_scrap.html">tidy_scrap()</a></code> function as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">my_link</span> <span class="op">&lt;-</span> <span class="st">"https://www.imdb.com/search/title/?groups=top_250&amp;sort=user_rating"</span>

<span class="va">my_nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
  <span class="st">".lister-item-header a"</span>, <span class="co"># The title </span>
  <span class="st">".text-muted.unbold"</span>, <span class="co"># The year of release </span>
  <span class="st">".ratings-imdb-rating strong"</span> <span class="co"># The rating)</span>
  <span class="op">)</span>

<span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"title"</span>, <span class="st">"year"</span>, <span class="st">"rating"</span><span class="op">)</span> <span class="co"># respect the nodes order</span>


<span class="fu"><a href="../reference/tidy_scrap.html">tidy_scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="va">my_link</span>, nodes <span class="op">=</span> <span class="va">my_nodes</span>, colnames <span class="op">=</span> <span class="va">names</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 50 x 3</span>
<span class="co">#&gt;    title                                         year   rating</span>
<span class="co">#&gt;    &lt;chr&gt;                                         &lt;chr&gt;  &lt;chr&gt; </span>
<span class="co">#&gt;  1 The Shawshank Redemption                      (1994) 9.3   </span>
<span class="co">#&gt;  2 The Godfather                                 (1972) 9.2   </span>
<span class="co">#&gt;  3 The Dark Knight                               (2008) 9.0   </span>
<span class="co">#&gt;  4 The Godfather: Part II                        (1974) 9.0   </span>
<span class="co">#&gt;  5 12 Angry Men                                  (1957) 9.0   </span>
<span class="co">#&gt;  6 The Lord of the Rings: The Return of the King (2003) 8.9   </span>
<span class="co">#&gt;  7 Pulp Fiction                                  (1994) 8.9   </span>
<span class="co">#&gt;  8 Schindler's List                              (1993) 8.9   </span>
<span class="co">#&gt;  9 Inception                                     (2010) 8.8   </span>
<span class="co">#&gt; 10 Fight Club                                    (1999) 8.8   </span>
<span class="co">#&gt; # ... with 40 more rows</span></code></pre></div>
<p>Note that all columns will be of <em>character</em> class. you’ll have to convert them according to your needs.</p>
</div>
</div>
<div id="titles_scrap" class="section level2">
<h2 class="hasAnchor">
<a href="#titles_scrap" class="anchor"></a><code>titles_scrap()</code>
</h2>
<p>Using <code><a href="../reference/titles_scrap.html">titles_scrap()</a></code>, one can efficiently scrape titles which correspond to the <em>h1, h2 &amp; h3</em> HTML tags.</p>
<div id="example-1" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1" class="anchor"></a>Example</h3>
<p>If we go to the <a href="https://www.nytimes.com/">New York Times</a>, we can easily extract the titles displayed within a specific web page :</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="fu"><a href="../reference/titles_scrap.html">titles_scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"https://www.nytimes.com/"</span><span class="op">)</span>
<span class="co">#&gt;  [1] "This Year’s Best Episodes of ‘The Daily’"                                                                                  </span>
<span class="co">#&gt;  [2] "Listen to ‘The Argument’"                                                                                                  </span>
<span class="co">#&gt;  [3] "Visit ‘At Home’"                                                                                                           </span>
<span class="co">#&gt;  [4] "Senate Overrides Trump’s Veto of Defense Bill, Dealing a Legislative Blow"                                                 </span>
<span class="co">#&gt;  [5] "The antiquities trade, a fertile ground for illicit activities, is subject to greater oversight under the new legislation."</span>
<span class="co">#&gt;  [6] "New York Halted Evictions. But What Happens When the Ban Ends?"                                                            </span>
<span class="co">#&gt;  [7] "Why Markets Boomed in a Year of Human Misery"                                                                              </span>
<span class="co">#&gt;  [8] "Highly Contagious Virus Variant Now Found in 33 Countries"                                                                 </span>
<span class="co">#&gt;  [9] "How Israel Became a World Leader in Vaccinating Against the Coronavirus"                                                   </span>
<span class="co">#&gt; [10] "Britain Opts for Mix-and-Match Vaccinations, Confounding Experts"                                                          </span>
<span class="co">#&gt; [11] "As Virus Shuts Down Prisons, Experts Warn of Fallout"                                                                      </span>
<span class="co">#&gt; [12] "In Minority Communities, Doctors Are Changing Minds About Vaccination"                                                     </span>
<span class="co">#&gt; [13] "Before Embracing America-First Agenda, Perdue Was an Outsourcing Expert"                                                   </span>
<span class="co">#&gt; [14] "In Abrupt Reversal of Iran Strategy, Pentagon Orders Aircraft Carrier Home"                                                </span>
<span class="co">#&gt; [15] "A Monster Wind Turbine Is Upending an Industry"                                                                            </span>
<span class="co">#&gt; [16] "Can You Poison Your Way to Good Health?"                                                                                   </span>
<span class="co">#&gt; [17] "Things Will Get Better. Seriously."                                                                                        </span>
<span class="co">#&gt; [18] "Britain Has Lost Itself"                                                                                                   </span>
<span class="co">#&gt; [19] "Goodbye, Twitter Trump! And Other Predictions for 2021"                                                                    </span>
<span class="co">#&gt; [20] "Bosses, Consider Caring a Bit"                                                                                             </span>
<span class="co">#&gt; [21] "After Five Centuries, a Native American With Real Power"                                                                   </span>
<span class="co">#&gt; [22] "This Is Why Nursing Homes Failed So Badly"                                                                                 </span>
<span class="co">#&gt; [23] "My Joe Biden Story"                                                                                                        </span>
<span class="co">#&gt; [24] "We Came All This Way to Let Vaccines Go Bad in the Freezer?"                                                               </span>
<span class="co">#&gt; [25] "‘Because of You Guys, I’m Stuck in My Room’"                                                                               </span>
<span class="co">#&gt; [26] "What New Science Techniques Tells Us About Ancient Women Warriors"                                                         </span>
<span class="co">#&gt; [27] "A Former F.B.I. Agent on the Blackwater Pardons: ‘I Am Embarrassed for Our Country’"                                       </span>
<span class="co">#&gt; [28] "An Embattled Public Servant in a Fractured France"                                                                         </span>
<span class="co">#&gt; [29] "Was That a Dropped Call From ET?"                                                                                          </span>
<span class="co">#&gt; [30] "David Fincher, the Unhappiest Auteur"                                                                                      </span>
<span class="co">#&gt; [31] "Site Index"                                                                                                                </span>
<span class="co">#&gt; [32] "Site Information Navigation"                                                                                               </span>
<span class="co">#&gt; [33] "Opinion"                                                                                                                   </span>
<span class="co">#&gt; [34] "Editors’ Picks"                                                                                                            </span>
<span class="co">#&gt; [35] "Advertisement"</span></code></pre></div>
<p>Further, it’s possible to filter the results using the <code>contain</code> argument:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/titles_scrap.html">titles_scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"https://www.nytimes.com/"</span>, contain <span class="op">=</span> <span class="st">"TrUMp"</span>, case_sensitive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; [1] "Senate Overrides Trump’s Veto of Defense Bill, Dealing a Legislative Blow"</span>
<span class="co">#&gt; [2] "Goodbye, Twitter Trump! And Other Predictions for 2021"</span></code></pre></div>
</div>
</div>
<div id="paragraphs_scrap" class="section level2">
<h2 class="hasAnchor">
<a href="#paragraphs_scrap" class="anchor"></a><code>paragraphs_scrap()</code>
</h2>
<p>In the same way, we can use the <code><a href="../reference/paragraphs_scrap.html">paragraphs_scrap()</a></code> function to extract paragraphs. This function relies on the <code>p</code> HTML tag.</p>
<p>Let’s get some paragraphs from the lovely <a href="https://ropensci.org/">ropensci.org</a> website:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/paragraphs_scrap.html">paragraphs_scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"https://ropensci.org/"</span><span class="op">)</span>
<span class="co">#&gt;  [1] ""                                                                                                                                                                                                                                                                        </span>
<span class="co">#&gt;  [2] "We help develop R packages for the sciences via community driven learning, review and\nmaintenance of contributed software in the R ecosystem"                                                                                                                           </span>
<span class="co">#&gt;  [3] "Use our carefully vetted, staff- and community-contributed R software tools that lower barriers to working with local and remote scientific data sources. Combine our tools with the rich ecosystem of R packages."                                                      </span>
<span class="co">#&gt;  [4] "Workflow Tools for Your Code and Data"                                                                                                                                                                                                                                   </span>
<span class="co">#&gt;  [5] "Get Data from the Web"                                                                                                                                                                                                                                                   </span>
<span class="co">#&gt;  [6] "Convert and Munge Data"                                                                                                                                                                                                                                                  </span>
<span class="co">#&gt;  [7] "Document and Release Your Data"                                                                                                                                                                                                                                          </span>
<span class="co">#&gt;  [8] "Visualize Data"                                                                                                                                                                                                                                                          </span>
<span class="co">#&gt;  [9] "Work with Databases From R"                                                                                                                                                                                                                                              </span>
<span class="co">#&gt; [10] "Access, Manipulate, Convert Geospatial Data"                                                                                                                                                                                                                             </span>
<span class="co">#&gt; [11] "Interact with Web Resources"                                                                                                                                                                                                                                             </span>
<span class="co">#&gt; [12] "Use Image &amp; Audio Data"                                                                                                                                                                                                                                                  </span>
<span class="co">#&gt; [13] "Analyze Scientific Papers (and Text in General)"                                                                                                                                                                                                                         </span>
<span class="co">#&gt; [14] "Secure Your Data and Workflow"                                                                                                                                                                                                                                           </span>
<span class="co">#&gt; [15] "Handle and Transform Taxonomic Information"                                                                                                                                                                                                                              </span>
<span class="co">#&gt; [16] "Get inspired by real examples of how our packages can be used."                                                                                                                                                                                                          </span>
<span class="co">#&gt; [17] "Or browse scientific publications that cited our packages."                                                                                                                                                                                                              </span>
<span class="co">#&gt; [18] "Our suite of packages is comprised of contributions from staff engineers and the wider R\ncommunity via a transparent, constructive and open review process utilising GitHub's open\nsource infrastructure."                                                             </span>
<span class="co">#&gt; [19] "We combine academic peer reviews with production software code reviews to create a\ntransparent, collaborative &amp; more efficient review process\n  "                                                                                                                      </span>
<span class="co">#&gt; [20] "Based on best practices of software development and standards of R, its\napplications and user base."                                                                                                                                                                    </span>
<span class="co">#&gt; [21] "Our diverse community of academics, data scientists and developers provide a\nplatform for shared learning, collaboration and reproducible science"                                                                                                                      </span>
<span class="co">#&gt; [22] "We welcome you to join us and help improve tools and practices available to\nresearchers while receiving greater visibility to your contributions. You can\ncontribute with your packages, resources or post questions so our members will help\nyou along your process."</span>
<span class="co">#&gt; [23] "Discover, learn and get involved in helping to shape the future of Data Science"                                                                                                                                                                                         </span>
<span class="co">#&gt; [24] "Join in our quarterly Community Calls with fellow developers and scientists - open\nto all"                                                                                                                                                                              </span>
<span class="co">#&gt; [25] "Upcoming events including meetings at which our team members are speaking."                                                                                                                                                                                              </span>
<span class="co">#&gt; [26] "The latest developments from rOpenSci and the wider R community"                                                                                                                                                                                                         </span>
<span class="co">#&gt; [27] "Release notes, updates and package related developements"                                                                                                                                                                                                                </span>
<span class="co">#&gt; [28] "A digest of R package and software review news, use cases, blog posts, and events, curated every two weeks. Subscribe to get it in your inbox, or check the archive."                                                                                                    </span>
<span class="co">#&gt; [29] "Happy rOpenSci users can be found at"                                                                                                                                                                                                                                    </span>
<span class="co">#&gt; [30] "Except where otherwise noted, content on this site is licensed under the CC-BY license •\nPrivacy Policy"</span></code></pre></div>
<p>If needed, it’s possible to collapse the paragraphs into one bag of words:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/paragraphs_scrap.html">paragraphs_scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"https://ropensci.org/"</span>, collapse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] " We help develop R packages for the sciences via community driven learning, review and\nmaintenance of contributed software in the R ecosystem Use our carefully vetted, staff- and community-contributed R software tools that lower barriers to working with local and remote scientific data sources. Combine our tools with the rich ecosystem of R packages. Workflow Tools for Your Code and Data Get Data from the Web Convert and Munge Data Document and Release Your Data Visualize Data Work with Databases From R Access, Manipulate, Convert Geospatial Data Interact with Web Resources Use Image &amp; Audio Data Analyze Scientific Papers (and Text in General) Secure Your Data and Workflow Handle and Transform Taxonomic Information Get inspired by real examples of how our packages can be used. Or browse scientific publications that cited our packages. Our suite of packages is comprised of contributions from staff engineers and the wider R\ncommunity via a transparent, constructive and open review process utilising GitHub's open\nsource infrastructure. We combine academic peer reviews with production software code reviews to create a\ntransparent, collaborative &amp; more efficient review process\n   Based on best practices of software development and standards of R, its\napplications and user base. Our diverse community of academics, data scientists and developers provide a\nplatform for shared learning, collaboration and reproducible science We welcome you to join us and help improve tools and practices available to\nresearchers while receiving greater visibility to your contributions. You can\ncontribute with your packages, resources or post questions so our members will help\nyou along your process. Discover, learn and get involved in helping to shape the future of Data Science Join in our quarterly Community Calls with fellow developers and scientists - open\nto all Upcoming events including meetings at which our team members are speaking. The latest developments from rOpenSci and the wider R community Release notes, updates and package related developements A digest of R package and software review news, use cases, blog posts, and events, curated every two weeks. Subscribe to get it in your inbox, or check the archive. Happy rOpenSci users can be found at Except where otherwise noted, content on this site is licensed under the CC-BY license •\nPrivacy Policy"</span></code></pre></div>
</div>
<div id="weblink_scrap" class="section level2">
<h2 class="hasAnchor">
<a href="#weblink_scrap" class="anchor"></a><code>weblink_scrap()</code>
</h2>
<p><code><a href="../reference/weblink_scrap.html">weblink_scrap()</a></code> is used to srape the web links available within a web page. Useful in some cases, for example, getting a list of the available PDFs:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/weblink_scrap.html">weblink_scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"https://www.worldbank.org/en/access-to-information/reports/"</span>, 
              contain <span class="op">=</span> <span class="st">"PDF"</span>, 
              case_sensitive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "http://pubdocs.worldbank.org/en/304561593192266592/pdf/A2i-2019-annual-report-FINAL.pdf"                         </span>
<span class="co">#&gt;  [2] "http://pubdocs.worldbank.org/en/539071573586305710/pdf/A2I-annual-report-2018-Final.pdf"                         </span>
<span class="co">#&gt;  [3] "http://pubdocs.worldbank.org/en/742661529439484831/WBG-AI-2017-annual-report.pdf"                                </span>
<span class="co">#&gt;  [4] "http://pubdocs.worldbank.org/en/814331507317964642/A2i-annualreport-2016.pdf"                                    </span>
<span class="co">#&gt;  [5] "http://pubdocs.worldbank.org/en/229551497905271134/Experience-18-month-report-Dec-2012.pdf"                      </span>
<span class="co">#&gt;  [6] "http://pubdocs.worldbank.org/en/835741505831037845/pdf/2016-AI-Survey-Report-Final.pdf"                          </span>
<span class="co">#&gt;  [7] "http://pubdocs.worldbank.org/en/698801505831644664/pdf/AI-Survey-written-comments-Final-2016.pdf"                </span>
<span class="co">#&gt;  [8] "http://pubdocs.worldbank.org/pubdocs/publicdoc/2016/3/150501459179518612/Write-in-comments-in-2015-AI-Survey.pdf"</span>
<span class="co">#&gt;  [9] "http://pubdocs.worldbank.org/pubdocs/publicdoc/2015/6/766701433971800319/Written-comments-in-2014-AI-Survey.pdf" </span>
<span class="co">#&gt; [10] "http://pubdocs.worldbank.org/pubdocs/publicdoc/2015/6/512551434127742109/2013-AI-Survey-Written-comments.pdf"    </span>
<span class="co">#&gt; [11] "http://pubdocs.worldbank.org/pubdocs/publicdoc/2015/6/5361434129036318/2012-AI-Survey-Written-comments.pdf"      </span>
<span class="co">#&gt; [12] "http://pubdocs.worldbank.org/pubdocs/publicdoc/2015/6/168151434129035939/2011-AI-Survey-Written-comments.pdf"    </span>
<span class="co">#&gt; [13] "https://ppfdocuments.azureedge.net/e5c12f4e-7f50-44f7-a0d8-78614350f97cAnnex2.pdf"                               </span>
<span class="co">#&gt; [14] "http://pubdocs.worldbank.org/pubdocs/publicdoc/2016/4/785921460482892684/PPF-Mapping-AI-Policy.pdf"              </span>
<span class="co">#&gt; [15] "http://pubdocs.worldbank.org/pubdocs/publicdoc/2015/6/453041434139030640/AI-Interpretations.pdf"                 </span>
<span class="co">#&gt; [16] "http://pubdocs.worldbank.org/en/157711583443319835/pdf/Access-to-Information-Policy-Spanish.pdf"                 </span>
<span class="co">#&gt; [17] "http://pubdocs.worldbank.org/en/270371588347691497/pdf/Access-to-Information-Policy-Arabic.pdf"                  </span>
<span class="co">#&gt; [18] "http://pubdocs.worldbank.org/en/939471588348288176/pdf/Access-to-Information-Directive-Procedure-Arabic.pdf"     </span>
<span class="co">#&gt; [19] "http://pubdocs.worldbank.org/en/248301574182372360/World-Bank-consultations-guidelines.pdf"</span></code></pre></div>
</div>
<div id="images_scrap-and-images_preview" class="section level2">
<h2 class="hasAnchor">
<a href="#images_scrap-and-images_preview" class="anchor"></a><code>images_scrap()</code> and <code>images_preview()</code>
</h2>
<blockquote>
<p>(only available in the development version)</p>
</blockquote>
<p><code><a href="../reference/images_preview.html">images_preview()</a></code> allows you to scrape the URLs of the images available within a web page so that you can choose which images <strong>extension</strong> (see below) you want to focus on.</p>
<p>Let’s say we want to list all the images from the official <a href="https://rstudio.com/">RStudio</a> website:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/images_preview.html">images_preview</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"https://rstudio.com/"</span><span class="op">)</span>
<span class="co">#&gt;  [1] "https://dc.ads.linkedin.com/collect/?pid=218281&amp;fmt=gif"                                                                       </span>
<span class="co">#&gt;  [2] "https://www.facebook.com/tr?id=151855192184380&amp;ev=PageView&amp;noscript=1"                                                         </span>
<span class="co">#&gt;  [3] "https://d33wubrfki0l68.cloudfront.net/08b39bfcd76ebaf8360ed9135a50a2348fe2ed83/75738/assets/img/logo-white.svg"                </span>
<span class="co">#&gt;  [4] "https://d33wubrfki0l68.cloudfront.net/f255381cf5fd8f44b899f01761a82ad1f149382d/ade3a/assets/img/2021-logo.png"                 </span>
<span class="co">#&gt;  [5] "https://d33wubrfki0l68.cloudfront.net/8bd479afc1037554e6218c41015a8e047b6af0f2/d1330/assets/img/libertymutual-logo-regular.png"</span>
<span class="co">#&gt;  [6] "https://d33wubrfki0l68.cloudfront.net/089844d0e19d6176a5c8ddff682b3bf47dbcb3dc/9ba69/assets/img/walmart-logo.png"              </span>
<span class="co">#&gt;  [7] "https://d33wubrfki0l68.cloudfront.net/a4ebff239e3de426fbb43c2e34159979f9214ce2/fabff/assets/img/janssen-logo-2.png"            </span>
<span class="co">#&gt;  [8] "https://d33wubrfki0l68.cloudfront.net/6fc5a4a8c3fa96eaf7c2dc829416c31d5dbdb514/0a559/assets/img/accenture-logo.png"            </span>
<span class="co">#&gt;  [9] "https://d33wubrfki0l68.cloudfront.net/d66c3b004735d83f205bc8a1c08dc39cc1ca5590/2b90b/assets/img/nasa-logo.png"                 </span>
<span class="co">#&gt; [10] "https://d33wubrfki0l68.cloudfront.net/521a038ed009b97bf73eb0a653b1cb7e66645231/8e3fd/assets/img/rstudio-icon.png"              </span>
<span class="co">#&gt; [11] "https://d33wubrfki0l68.cloudfront.net/19dbfe44f79ee3249392a5effaa64e424785369e/91a7c/assets/img/connect-icon.png"              </span>
<span class="co">#&gt; [12] "https://d33wubrfki0l68.cloudfront.net/edf453f69b61f156d1d303c9ebe42ba8dc05e58a/213d1/assets/img/icon-rspm.png"                 </span>
<span class="co">#&gt; [13] "https://d33wubrfki0l68.cloudfront.net/62bcc8535a06077094ca3c29c383e37ad7334311/a263f/assets/img/logo.svg"                      </span>
<span class="co">#&gt; [14] "https://d33wubrfki0l68.cloudfront.net/9249ca7ba197318b488c0b295b94357694647802/6d33b/assets/img/logo-lockup.svg"               </span>
<span class="co">#&gt; [15] "https://d33wubrfki0l68.cloudfront.net/30ef84abbbcfbd7b025671ae74131762844e90a1/3392d/assets/img/bcorps-logo.svg"</span></code></pre></div>
<p><code><a href="../reference/images_scrap.html">images_scrap()</a></code> on the other hand download the images. It takes the following arguments:</p>
<ul>
<li><p><strong>link</strong>: The URL of the web page;</p></li>
<li><p><strong>imgpath</strong>: The destination folder of your images. It defaults to <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code></p></li>
<li><p><strong>extn</strong>: the extension of the image: jpg, png, jpeg … among others;</p></li>
<li><p><strong>askRobot</strong>: ask the robots.txt file if it’s permitted to scrape the web page.</p></li>
</ul>
<p>In the following example we extract all the <code>png</code> images from <a href="https://rstudio.com/">RStudio</a> :</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Suppose we're in a project which has a folder called my_images: </span>

<span class="fu"><a href="../reference/images_scrap.html">images_scrap</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"https://rstudio.com/"</span>, 
             imgpath <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/here/man/here.html">here</a></span><span class="op">(</span><span class="st">"my_images"</span><span class="op">)</span>, 
             extn <span class="op">=</span> <span class="st">"png"</span><span class="op">)</span> <span class="co"># without the .</span></code></pre></div>
<p>The images will be downloaded into the folder <code><a href="https://rdrr.io/pkg/here/man/here.html">here::here("myimages")</a></code> and named <code>img-1</code>, <code>img-2</code>, <code>img-3</code> …according to the number of extracted images and by order of appearance in the web page.</p>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that the ralger project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Mohamed El Fodil Ihaddaden.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
